<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VT Basketball Lineup Tracker</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="transition-colors duration-200">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const BasketballLineupTracker = () => {
            // Dark mode state
            const [darkMode, setDarkMode] = useState(() => {
                const saved = localStorage.getItem('darkMode');
                return saved ? JSON.parse(saved) : false;
            });

            // Update body class and localStorage when dark mode changes
            useEffect(() => {
                document.body.className = darkMode ? 'bg-gray-900 transition-colors duration-200' : 'bg-gray-100 transition-colors duration-200';
                localStorage.setItem('darkMode', JSON.stringify(darkMode));
            }, [darkMode]);

            // Virginia Tech Basketball Roster
            const [roster] = useState([
                { id: 0, name: 'Jailen Bedford', position: 'G', onCourt: false },
                { id: 1, name: 'Tobi Lawal', position: 'F', onCourt: true },
                { id: 2, name: 'Jaden Schutt', position: 'G', onCourt: true },
                { id: 3, name: 'Ben Hammond', position: 'G', onCourt: true },
                { id: 4, name: 'Izaiah Pasha', position: 'G', onCourt: false },
                { id: 5, name: 'Sin\'Cere Jones', position: 'F', onCourt: false },
                { id: 7, name: 'Brett Freeman', position: 'F', onCourt: false },
                { id: 10, name: 'Tyler Johnson', position: 'G', onCourt: false },
                { id: 13, name: 'Amani Hansberry', position: 'F', onCourt: true },
                { id: 15, name: 'Snook Peterkin', position: 'F', onCourt: false },
                { id: 17, name: 'Neo Avdalas', position: 'G', onCourt: true },
                { id: 22, name: 'Solomon Davis', position: 'F', onCourt: false },
                { id: 32, name: 'Christian Gurdak', position: 'C', onCourt: false },
                { id: 77, name: 'Antonio Dorn', position: 'C', onCourt: false }
            ]);

            const [currentLineup, setCurrentLineup] = useState([3, 2, 17, 1, 13]);
            const [currentStats, setCurrentStats] = useState({
                vt: {
                    possessions: 0,
                    offensiveRebounds: 0,
                    defensiveRebounds: 0,
                    turnovers: 0
                },
                opponent: {
                    possessions: 0,
                    offensiveRebounds: 0,
                    defensiveRebounds: 0,
                    turnovers: 0
                }
            });

            const updateStat = (team, statName, value) => {
                const newStats = {
                    ...currentStats,
                    [team]: {
                        ...currentStats[team],
                        [statName]: Math.max(0, currentStats[team][statName] + value)
                    }
                };
                setCurrentStats(newStats);
                console.log('Stats updated:', newStats);
            };

            return (
                <div className={`min-h-screen p-4 transition-colors duration-200 ${darkMode ? 'bg-gray-900' : 'bg-gray-100'}`}>
                    <div className="max-w-6xl mx-auto">
                        <div className="flex justify-between items-center mb-6">
                            <h1 className={`text-3xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>
                                VT Basketball Lineup Tracker (Debug)
                            </h1>
                            <button
                                onClick={() => setDarkMode(!darkMode)}
                                className={`px-4 py-2 rounded-md transition-colors ${
                                    darkMode 
                                        ? 'bg-yellow-500 text-gray-900 hover:bg-yellow-600' 
                                        : 'bg-gray-800 text-white hover:bg-gray-700'
                                }`}
                            >
                                {darkMode ? '‚òÄÔ∏è Light' : 'üåô Dark'}
                            </button>
                        </div>
                        
                        {/* Current Lineup Display */}
                        <div className={`rounded-lg shadow-lg p-6 mb-6 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                            <h2 className={`text-xl font-semibold mb-4 ${darkMode ? 'text-white' : 'text-gray-900'}`}>
                                Current Lineup
                            </h2>
                            <div className="grid grid-cols-5 gap-4">
                                {currentLineup.map((playerId, index) => (
                                    <div key={index} className="text-center">
                                        <div className={`p-2 rounded ${darkMode ? 'bg-gray-700 text-white' : 'bg-gray-100 text-gray-900'}`}>
                                            {roster.find(p => p.id === playerId)?.name}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Stats Tracking */}
                        <div className={`rounded-lg shadow-lg p-6 mb-6 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                            <h2 className={`text-xl font-semibold mb-4 ${darkMode ? 'text-white' : 'text-gray-900'}`}>
                                Game Stats
                            </h2>
                            
                            {/* VT Stats */}
                            <div className="mb-6">
                                <h3 className={`text-lg font-medium mb-3 text-center`} style={{color: '#800020'}}>
                                    Virginia Tech
                                </h3>
                                <div className="grid grid-cols-4 gap-4">
                                    {Object.entries(currentStats.vt).map(([stat, value]) => (
                                        <div key={stat} className="text-center">
                                            <div className="text-lg font-bold" style={{color: '#800020'}}>{value}</div>
                                            <div className={`text-sm capitalize ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>
                                                {stat.replace(/([A-Z])/g, ' $1').trim()}
                                            </div>
                                            <div className="flex justify-center gap-1 mt-2">
                                                <button
                                                    onClick={() => updateStat('vt', stat, -1)}
                                                    className="w-6 h-6 bg-red-500 text-white rounded-full text-xs hover:bg-red-600"
                                                >
                                                    -
                                                </button>
                                                <button
                                                    onClick={() => updateStat('vt', stat, 1)}
                                                    className="w-6 h-6 bg-green-500 text-white rounded-full text-xs hover:bg-green-600"
                                                >
                                                    +
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Opponent Stats */}
                            <div>
                                <h3 className={`text-lg font-medium mb-3 text-center`} style={{color: '#CC5500'}}>
                                    Opponent
                                </h3>
                                <div className="grid grid-cols-4 gap-4">
                                    {Object.entries(currentStats.opponent).map(([stat, value]) => (
                                        <div key={stat} className="text-center">
                                            <div className="text-lg font-bold" style={{color: '#CC5500'}}>{value}</div>
                                            <div className={`text-sm capitalize ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>
                                                {stat.replace(/([A-Z])/g, ' $1').trim()}
                                            </div>
                                            <div className="flex justify-center gap-1 mt-2">
                                                <button
                                                    onClick={() => updateStat('opponent', stat, -1)}
                                                    className="w-6 h-6 bg-red-500 text-white rounded-full text-xs hover:bg-red-600"
                                                >
                                                    -
                                                </button>
                                                <button
                                                    onClick={() => updateStat('opponent', stat, 1)}
                                                    className="w-6 h-6 bg-green-500 text-white rounded-full text-xs hover:bg-green-600"
                                                >
                                                    +
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>

                        {/* Debug Info */}
                        <div className={`rounded-lg shadow-lg p-6 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                            <h2 className={`text-xl font-semibold mb-4 ${darkMode ? 'text-white' : 'text-gray-900'}`}>
                                Debug Info
                            </h2>
                            <div className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>
                                <p>App is working! Dark mode: {darkMode ? 'ON' : 'OFF'}</p>
                                <p>Roster loaded: {roster.length} players</p>
                                <p>Current lineup: {currentLineup.map(id => roster.find(p => p.id === id)?.name).join(', ')}</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        console.log('Starting app...');
        ReactDOM.render(<BasketballLineupTracker />, document.getElementById('root'));
        console.log('App rendered!');
    </script>
</body>
</html>
